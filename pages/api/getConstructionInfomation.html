<link rel="stylesheet" href="../lib/bootstrapTable/bootstrap-table.css">
<script src="../lib/bootstrapTable/bootstrap-table.js"></script>
<script src="../js/api/getConstructionInfomation.js"></script>

<div style="height: 40px;margin-top: 20px;margin-bottom: 20px" id="constructionInfo">

        <div class="titleContentbig">
            道路施工服务
        </div>

</div>
<div style="height: 365px;" id="apiExplain">
    <div class="titleContainer">
        <div class="titleContent" >
            API介绍
        </div>
    </div>
    <div style="height: 120px;width: 690px;">
        <div style="padding: 10px 20px 0px 20px; font-size: 14px; color: rgba(0,0,0,0.8);line-height: 30px">
            <div style="margin-bottom: 26px;">
                施工道路服务API是一组支持最新施工道路信息查询、历史记录查询等功能的服务接口，能够实时快速的提供当前最新的施工道路信息的数据。内容包括：获取最新施工道路信息API、获取历史时间段的施工道路信息API等。
                接口采用分页获取数据的形式。用户第一次访问，请输入参数pageNum=1，之后，根据返回数据中的pageNum，pages的总页数，访问下一页。当访问到最后一页时，会更新用户的登录时间，届时用户再次访问，将进入下一次的增量提取。
            </div>
            <div style="margin-bottom: 26px;">
                <div class="dotGrayDivtop"></div>
                最新施工信息API：根据用户的上次登录时间，计算出截止目前为止的所有最新的增量施工道路信息。
            </div>
            <div>
                <div class="dotGrayDivtop"></div>
                历史施工信息API：输入起始时间和中止时间，时间段不超过7天的数据，服务接口返回此时间段的所有的施工道路信息。
            </div>

        </div>
    </div>
</div>
<div class="apiContainer" id="useCase" style="height:2365px">
    <div class="titleContainer">
        <div class="titleContent">
            最新施工信息
        </div>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> API说明</span>
            </div>
        </div>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">服务地址: http://fs.navinfo.com/smapapi/construction.json</p>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">请求方式：post</p>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 请求参数</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="tableConstructionRequire"
                   data-toggle="table"
                   data-url="../data/constructionRequireParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName">参数名</th>
                    <th data-field="type" >类型</th>
                    <th data-field="required" >是否必须</th>
                    <th data-field="default" >缺省值</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>

    </div>
    <div class="apiParamContainer">
        <div class="apiReturnParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 返回结果</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="constructionReturnTable"
                   data-toggle="table"
                   data-url="../data/constructionFailReturnParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">一级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">规则说明</th>
                </tr>
                </thead>
            </table>
        </div>
        <div style="padding-left: 20px;margin-top: 26px">
            <table id="constructionReturnTable1"
                   data-toggle="table"
                   data-url="../data/constructionFailReturnParam1.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">二级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">规则说明</th>
                </tr>
                </thead>
            </table>
        </div>
        <div style="padding-left: 20px;margin-top: 26px">
            <table id="constructionReturnTable2"
                   data-toggle="table"
                   data-url="../data/constructionFailReturnParam2.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">三级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">规则说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <div style="padding:40px 10px 20px 10px;width: 690px; height: 288px">
        <div class="dotGrayDiv"></div>
        <div class="textDiv" style="padding-left: 0px ;">
            <span style="font-size: 14px;color: #74666c;">返回结果示例</span>
        </div>

        <div style="clear: both" ></div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;margin-right: 30px;margin-left: 10px;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #eafaf5;color: #33c993;line-height: 30px;font-size: 14px;">返回正确结果</div>
            <textarea readonly cols="30" rows="10" style="width: 315px;height: 245px;resize: none;border:none">
  {
  "code": 200,
  "data": {
    "construction_info": [
      {
        "admin_id": 330106,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.07534 30.30488, 120.07539 30.30462, 120.07544 30.30438, 120.07548 30.30424, 120.07553 30.30416, 120.07563 30.30407, 120.07567 30.30403, 120.0757 30.30398, 120.07573 30.30389, 120.07589 30.30327, 120.07602 30.30282, 120.07603 30.30273, 120.07606 30.30269, 120.07616 30.30261, 120.07622 30.30259, 120.0763 30.30257, 120.07638 30.30255, 120.07645 30.30253)",
        "link_change": 1,
        "link_pid": 8723232,
        "no": 7308909,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      }
    ],
    "pageNum": 1,
    "pages": 10
  },
  "msg": "OK: Successful processing of the request"
}



                </textarea>
        </div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #fcf0f4;color: #ff6699;line-height: 30px;font-size: 14px;">返回错误结果</div>
            <textarea readonly style="width: 315px;height: 245px;resize: none;border:none">
{
  "code": "401",
  "data": "%E7%94%A8%E6%88%B7%E5%AF%86%E9%92%A5%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E8%AF%B7%E6%A3%80%E6%9F%A5",
  "msg": "Unauthorized: The requested resource needs authentication"
}

            </textarea>
        </div>
    </div>

    <div class="apiParamContainer">
        <div class="apiServiceExampleContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 服务示例</span>
            </div>
        </div>

        <div style="height: 16px;width: 690px;"></div>

        <div class="apiExampleRequireParam">请求参数</div>
        <div style="width: 690px;padding: 0px 100px 0px 64px">
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">username</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="constructionUsername">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">password</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="constructionPassword">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">pageNum</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="constructionPageNum">
                </div>
            </div>
        </div>
    </div>
    <div class="apiResultContainer">
        <div style="padding: 10px 20px 20px 20px">
            <div class="apiResultButtonsContainer">
                <div class="apiButtonOfUndo" onclick="constructionRs()">运行</div>
                <div style="float: left;padding: 0px 0px 0px 20px;width: 60px">
                    <div class="apiButtonOfReset" onclick="resetResult(0)">重置</div>
                </div>
            </div>
            <div class="apiShowResultName">返回结果</div>
            <div class="apiResultOfContainer" >
                <textarea readonly class="textContent" id="limitContent">
{
  "code": 200,
  "data": {
    "construction_info": [
      {
        "admin_id": 330106,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.07534 30.30488, 120.07539 30.30462, 120.07544 30.30438, 120.07548 30.30424, 120.07553 30.30416, 120.07563 30.30407, 120.07567 30.30403, 120.0757 30.30398, 120.07573 30.30389, 120.07589 30.30327, 120.07602 30.30282, 120.07603 30.30273, 120.07606 30.30269, 120.07616 30.30261, 120.07622 30.30259, 120.0763 30.30257, 120.07638 30.30255, 120.07645 30.30253)",
        "link_change": 1,
        "link_pid": 8723232,
        "no": 7308909,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      },
      {
        "admin_id": 330104,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.26653 30.32603, 120.26677 30.32575)",
        "link_change": 1,
        "link_pid": 8303036,
        "no": 7308910,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      }
    ],
    "pageNum": 1,
    "pages": 10
  },
  "msg": "OK: Successful processing of the request"
}


                </textarea>
            </div>
        </div>
    </div>
</div>

<div style="clear: both"></div>

<div class="apiContainer" id="instructions">
    <div class="titleContainer">
        <div class="titleContent">
            历史施工信息
        </div>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> API说明</span>
            </div>
        </div>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">API地址 http://fs.navinfo.com/smapapi/construction/timequantum.json</p>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">请求方式：post</p>
    </div>

    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 请求参数</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="FeedbackRequireParam"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackRequireParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName">参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="required" >是否必须</th>
                    <th data-field="default" >缺省值</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <div class="apiParamContainer">
        <div class="apiReturnParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 返回结果</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="ConstructionFeedbackReturnParam"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackReturnParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">一级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
        <div style="padding-left: 20px;margin-top: 26px">
            <table id="ConstructionFeedbackReturnParam1"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackReturnParam1.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">二级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
        <div style="padding-left: 20px;margin-top: 26px">
            <table id="ConstructionFeedbackReturnParam2"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackReturnParam2.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">三级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <div style="padding:40px 10px 20px 10px;width: 690px; height: 580px">
        <div class="dotGrayDiv"></div>
        <div class="textDiv" style="padding-left: 0px ;">
            <span style="font-size: 14px;color: #74666c;">返回结果示例</span>
        </div>

        <div style="clear: both" ></div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;margin-right: 30px;margin-left: 10px">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #eafaf5;color: #33c993;line-height: 30px;font-size: 14px;">返回正确结果</div>
                <textarea readonly style="width: 315px;height: 245px;resize: none">
{
  "code": 200,
  "data": {
    "construction_info": [
      {
        "admin_id": 330106,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.07534 30.30488, 120.07539 30.30462, 120.07544 30.30438, 120.07548 30.30424, 120.07553 30.30416, 120.07563 30.30407, 120.07567 30.30403, 120.0757 30.30398, 120.07573 30.30389, 120.07589 30.30327, 120.07602 30.30282, 120.07603 30.30273, 120.07606 30.30269, 120.07616 30.30261, 120.07622 30.30259, 120.0763 30.30257, 120.07638 30.30255, 120.07645 30.30253)",
        "link_change": 1,
        "link_pid": 8723232,
        "no": 7308909,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      }
    ],
    "pageNum": 1,
    "pages": 10
  },
  "msg": "OK: Successful processing of the request"
}

            </textarea>
        </div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #fcf0f4;color: #ff6699;line-height: 30px;font-size: 14px;">返回错误结果</div>
            <textarea readonly style="width: 315px;height: 245px;resize: none">
{
  "code": "401",
  "data": "%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%E5%B7%B2%E7%BB%8F%E8%B6%85%E8%BF%877%E5%A4%A9%EF%BC%8C%E8%AF%B7%E9%87%8D%E6%96%B0%E8%BE%93%E5%85%A5%EF%BC%81",
  "msg": "Unauthorized: The requested resource needs authentication"
}


            </textarea>
        </div>
    </div>
</div>
<div style="clear: both"></div>
    <div class="apiParamContainer">
        <div class="apiServiceExampleContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 服务示例</span>
            </div>
        </div>

        <div style="height: 16px;width: 690px;"></div>

        <div class="apiExampleRequireParam">请求参数</div>
        <div style="width: 690px;padding: 0px 100px 0px 64px">
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">username</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="timequantumUsername">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">password</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="timequantumPassword">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">startTime</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="startTime">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">endTime</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="endTime">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">pageNum</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="timequantumPageNum">
                </div>
            </div>
        </div>
    </div>
    <div class="apiResultContainer">
        <div style="padding: 10px 20px 20px 20px">
            <div class="apiResultButtonsContainer">
                <div class="apiButtonOfUndo" onclick="constructionResult()">运行</div>
                <div style="float: left;padding: 0px 0px 0px 20px;width: 60px">
                    <div class="apiButtonOfReset" onclick="resetResult()">重置</div>
                </div>
            </div>
            <div class="apiShowResultName">返回结果</div>
            <div class="apiResultOfContainer" >
                <textarea readonly class="textContent" id="limitContent">
{
  "code": 200,
  "data": {
    "construction_info": [
      {
        "admin_id": 330106,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.07534 30.30488, 120.07539 30.30462, 120.07544 30.30438, 120.07548 30.30424, 120.07553 30.30416, 120.07563 30.30407, 120.07567 30.30403, 120.0757 30.30398, 120.07573 30.30389, 120.07589 30.30327, 120.07602 30.30282, 120.07603 30.30273, 120.07606 30.30269, 120.07616 30.30261, 120.07622 30.30259, 120.0763 30.30257, 120.07638 30.30255, 120.07645 30.30253)",
        "link_change": 1,
        "link_pid": 8723232,
        "no": 7308909,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      },
      {
        "admin_id": 330104,
        "construction_dir": 1,
        "desc": "道路施工",
        "geometry_link": "LINESTRING (120.26653 30.32603, 120.26677 30.32575)",
        "link_change": 1,
        "link_pid": 8303036,
        "no": 7308910,
        "time_domain": "[(y2017M5d22)(y2022M5d22)]",
        "version": "16Q1",
        " info_sources ": 1,
        " reliability ": 1
      }
    ],
    "pageNum": 1,
    "pages": 10
  },
  "msg": "OK: Successful processing of the request"
}

                </textarea>
            </div>
        </div>
    </div>
</div>